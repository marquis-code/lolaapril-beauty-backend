import { Model } from 'mongoose';
import { CacheService } from '../cache/cache.service';
import { NotificationTemplateDocument, NotificationLogDocument, NotificationPreferenceDocument } from '../notification/schemas/notification.schema';
import { BusinessDocument } from '../business/schemas/business.schema';
import { EmailService } from './email.service';
import { SMSService } from './sms.service';
import { EmailTemplatesService } from './templates/email-templates.service';
export declare class NotificationService {
    private notificationTemplateModel;
    private notificationLogModel;
    private notificationPreferenceModel;
    private businessModel;
    private emailService;
    private smsService;
    protected emailTemplatesService: EmailTemplatesService;
    private cacheService;
    constructor(notificationTemplateModel: Model<NotificationTemplateDocument>, notificationLogModel: Model<NotificationLogDocument>, notificationPreferenceModel: Model<NotificationPreferenceDocument>, businessModel: Model<BusinessDocument>, emailService: EmailService, smsService: SMSService, emailTemplatesService: EmailTemplatesService, cacheService: CacheService);
    private getUnreadCountKey;
    private getLogsKey;
    private invalidateCache;
    getUnreadCount(businessId: string): Promise<number>;
    getLogs(businessId: string, limit?: number, offset?: number): Promise<any[]>;
    markAsRead(notificationId: string): Promise<any>;
    markAllAsRead(businessId: string): Promise<any>;
    notifyBookingConfirmation(bookingId: string, clientId: string, businessId: string, bookingDetails: any): Promise<void>;
    notifyBookingRejection(bookingId: string, clientId: string, businessId: string, bookingDetails: any, rejectionReason: string): Promise<void>;
    notifyAppointmentReminder(appointmentId: string, clientId: string, businessId: string, appointmentDetails: any): Promise<void>;
    notifyStaffNewBooking(booking: any): Promise<void>;
    notifySlotUnavailableRefund(bookingId: string, clientId: string, businessId: string, details: any): Promise<void>;
    notifyPaymentReminder(bookingId: string, clientId: string, businessId: string, details: any): Promise<void>;
    notifyAppointmentCancellation(appointmentId: string, clientId: string, businessId: string, appointmentDetails: any, cancellationReason: string): Promise<void>;
    notifyPaymentConfirmation(paymentId: string, clientId: string, businessId: string, paymentDetails: any): Promise<void>;
    notifyPaymentFailed(paymentId: string, clientId: string, businessId: string, paymentDetails: any): Promise<void>;
    notifyStaffAssignment(appointmentId: string, staffId: string, businessId: string, appointmentDetails: any): Promise<void>;
    sendAppointmentReminders(): Promise<void>;
    private sendNotification;
    private logNotification;
    private getTemplate;
    private getUserPreferences;
    private replaceTemplateVariables;
    private stripHtml;
    private getAppointmentsForReminder;
    private markAppointmentReminded;
    notifyAppointmentCompletion(appointmentId: string, clientId: string, businessId: string, appointmentDetails: any): Promise<void>;
    notifyAppointmentConfirmation(appointmentId: string, clientId: string, businessId: string, appointmentDetails: any): Promise<void>;
    sendConsultationConfirmation(clientId: string, businessId: string, data: any): Promise<void>;
    sendConsultationReminder(clientId: string, businessId: string, data: any): Promise<void>;
    sendConsultationThankYou(clientId: string, businessId: string, data: any): Promise<void>;
    sendMarketingFollowUp(clientId: string, businessId: string, data: any): Promise<void>;
}
